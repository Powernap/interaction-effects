<!DOCTYPE html>
<html ng-app="cube" lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>RCube Prototype</title>
  <script src="bower_components/jquery/dist/jquery.js"></script>
  <script src="bower_components/d3/d3.js"></script>
  <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
  <script src="bower_components/angular/angular.js"></script>
  <script src="bower_components/ng-flow/dist/ng-flow-standalone.js"></script>
  <script src="js/RCUBE.js"></script>
  <script src="js/OpenCPUConnection.js"></script>
  <script src="js/vis/heatmap.js"></script>
  <script src="js/Dataset.js"></script>
  <script src="js/RSession.js"></script>
  <script src="js/opencpu-0.4.js"></script>
  <script src="app.js"></script>
  <script>
    document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')
  </script>

  <link href="bower_components/bootstrap/dist/css/bootstrap.css" rel="stylesheet" media="screen">
  <!-- Bootstrap -->
  <link href="css/heatmap.css" rel="stylesheet" media="screen">
  <style type='text/css'>
    .header {
      text-align: center;
      color: lightgrey;
    }
  </style>
  </script>
</head>

<body>
  <div class=container>
    <h1 class="header"> λ OpenCPU Testing Ground λ </h1>

    <div flow-init="{target: '/upload'}" flow-files-submitted="$flow.upload()" flow-file-success="$file.msg = $message">

      <input type="file" flow-btn/>
      <!-- Input OR Other element as upload button
      <span class="btn" flow-btn>Upload File</span> -->

      <table>
        <tr ng-repeat="file in $flow.files">
          <td>{{$index+1}}</td>
          <td>{{file.name}}</td>
          <td>{{file.msg}}</td>
        </tr>
      </table>
    </div>

    <div ng-controller="HeatmapController as heatmap" ng-show="heatmap.visible">
      <div class=my-heatmap>
        <h3>Heatmap Prototype</h3>
        <p>Order:
          <select id="order-heatmap">
            <option value="name">by Name</option>
            <option value="count">by Frequency</option>
          </select>
        </p>
        <div id="tooltip-heatmap" class="hidden">
          <p>
            <span id="value">
          </p>
        </div>
      </div>
    </div>
  </div>
</body>

</html>
